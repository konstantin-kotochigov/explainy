# explainy
Приложение для генерации текстовых объяснений сложных технических тем в формате блог-поста

## Описание

Это Python приложение использует LLM модель (OpenAI GPT) для генерации понятных объяснений сложных технических тем. 

Приложение:
1. Читает список тем из файла `topics.txt`
2. Читает системный промпт из файла `system_prompt.txt` с требованиями к стилю генерации
3. Для каждой темы загружает изображения из Google Custom Search API (опционально)
4. Генерирует объяснение для каждой темы используя OpenAI API
5. Сохраняет каждое объяснение в отдельный Jupyter Notebook (`.ipynb`) в директории `outputs/`

## Установка

1. Клонируйте репозиторий:
```bash
git clone https://github.com/konstantin-kotochigov/explainy.git
cd explainy
```

2. Создайте виртуальное окружение и активируйте его:
```bash
python -m venv venv
source venv/bin/activate  # На Windows: venv\Scripts\activate
```

3. Установите зависимости:
```bash
pip install -r requirements.txt
```

4. Создайте файл `.env` на основе `.env.example`:
```bash
cp .env.example .env
```

5. Добавьте ваш OpenAI API ключ в файл `.env`:
```
OPENAI_API_KEY=sk-your-actual-api-key-here
```

6. (Опционально) Для загрузки изображений добавьте Google Custom Search API credentials в файл `.env`:
```
GOOGLE_SEARCH_API_KEY=your_google_search_api_key_here
GOOGLE_SEARCH_ENGINE_ID=your_search_engine_id_here
```

Для получения Google Custom Search API credentials:
- API ключ: https://developers.google.com/custom-search/v1/introduction
- Создайте поисковый движок: https://programmablesearchengine.google.com/

## Использование

1. Отредактируйте файл `topics.txt` и добавьте темы, которые хотите объяснить (одна тема на строку)

2. При необходимости отредактируйте `system_prompt.txt` для изменения стиля генерации

3. Запустите приложение:
```bash
python main.py
```

4. Результаты будут сохранены в директории `outputs/` в виде отдельных Jupyter Notebooks (`.ipynb`) для каждой темы

5. (Опционально) Если настроен Google Custom Search API, изображения будут автоматически загружены в директорию `img/<тема>/` перед генерацией объяснений

## Структура проекта

```
explainy/
├── main.py                      # Основной скрипт приложения
├── topics.txt                   # Список тем для объяснения
├── system_prompt.txt            # Системный промпт с требованиями к стилю
├── requirements.txt             # Python зависимости
├── .env.example                 # Пример файла с переменными окружения
├── .gitignore                   # Файлы для игнорирования Git
├── test_app.py                  # Тесты основной функциональности
├── test_notebook_generation.py  # Тесты генерации Jupyter Notebooks
├── test_image_download.py       # Тесты загрузки изображений
├── outputs/                     # Директория с сгенерированными объяснениями (создается автоматически)
├── img/                         # Директория с загруженными изображениями (создается автоматически)
└── README.md                    # Этот файл
```

## Конфигурация

### Файл topics.txt
Содержит список тем для объяснения. Каждая тема должна быть на отдельной строке.

Пример:
```
Квантовая запутанность и ее применение в квантовых вычислениях
Алгоритм обратного распространения ошибки в нейронных сетях
Протокол Byzantine Fault Tolerance в распределенных системах
```

### Файл system_prompt.txt
Содержит инструкции для LLM модели о том, как должны быть написаны объяснения. Можно настроить:
- Стиль изложения
- Структуру ответа
- Длину текста
- Целевую аудиторию

### Загрузка изображений (опционально)

Приложение может автоматически загружать изображения для каждой темы используя Google Custom Search API:

1. **Настройка**: Добавьте `GOOGLE_SEARCH_API_KEY` и `GOOGLE_SEARCH_ENGINE_ID` в файл `.env`
2. **Работа**: При обработке каждой темы приложение:
   - Выполняет поиск изображений с фильтром `imagesize:large` для получения качественных изображений
   - Создает подкаталог в `img/<имя темы>/`
   - Загружает найденные изображения и сохраняет их как `img1.jpg`, `img2.png` и т.д. (с сохранением оригинального формата)
   - Возвращает путь к директории с изображениями
3. **Обработка ошибок**: Если API не настроен или произошла ошибка, приложение продолжит работу без загрузки изображений

**Примечание**: Google Custom Search API имеет бесплатную квоту в 100 запросов в день. Каждая тема использует 1 запрос.

## Требования

- Python 3.10+
- OpenAI API ключ
- (Опционально) Google Custom Search API ключ и Search Engine ID для загрузки изображений
- Интернет соединение для доступа к OpenAI API

## Лицензия

MIT
